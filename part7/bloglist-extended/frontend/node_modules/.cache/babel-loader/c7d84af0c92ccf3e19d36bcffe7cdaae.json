{"ast":null,"code":"let token = null;\nconst STORAGE_KEY = 'loggedBlogAppUser';\n\nconst setUser = user => {\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(user));\n  token = user.token;\n};\n\nconst getUser = () => {\n  const loggedUserJSON = window.localStorage.getItem(STORAGE_KEY);\n\n  if (loggedUserJSON) {\n    const user = JSON.parse(loggedUserJSON);\n    token = user.token;\n    return user;\n  }\n\n  return null;\n};\n\nconst clearUser = () => {\n  localStorage.clear();\n  token = null;\n};\n\nconst getToken = () => token;\n\nexport default {\n  setUser,\n  getUser,\n  clearUser,\n  getToken\n};","map":{"version":3,"sources":["/Users/joshyee/Desktop/web-projects/fullstackopen-2022/part7/bloglist-extended/frontend/src/services/users.js"],"names":["token","STORAGE_KEY","setUser","user","window","localStorage","setItem","JSON","stringify","getUser","loggedUserJSON","getItem","parse","clearUser","clear","getToken"],"mappings":"AAAA,IAAIA,KAAK,GAAG,IAAZ;AAEA,MAAMC,WAAW,GAAG,mBAApB;;AAEA,MAAMC,OAAO,GAAIC,IAAD,IAAU;AACxBC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CACEL,WADF,EACeM,IAAI,CAACC,SAAL,CAAeL,IAAf,CADf;AAGAH,EAAAA,KAAK,GAAGG,IAAI,CAACH,KAAb;AACD,CALD;;AAOA,MAAMS,OAAO,GAAG,MAAM;AACpB,QAAMC,cAAc,GAAGN,MAAM,CAACC,YAAP,CAAoBM,OAApB,CAA4BV,WAA5B,CAAvB;;AACA,MAAIS,cAAJ,EAAoB;AAClB,UAAMP,IAAI,GAAGI,IAAI,CAACK,KAAL,CAAWF,cAAX,CAAb;AACAV,IAAAA,KAAK,GAAGG,IAAI,CAACH,KAAb;AACA,WAAOG,IAAP;AACD;;AAED,SAAO,IAAP;AACD,CATD;;AAWA,MAAMU,SAAS,GAAG,MAAM;AACtBR,EAAAA,YAAY,CAACS,KAAb;AACAd,EAAAA,KAAK,GAAG,IAAR;AACD,CAHD;;AAKA,MAAMe,QAAQ,GAAG,MAAMf,KAAvB;;AAEA,eAAe;AACbE,EAAAA,OADa;AACJO,EAAAA,OADI;AACKI,EAAAA,SADL;AACgBE,EAAAA;AADhB,CAAf","sourcesContent":["let token = null\n\nconst STORAGE_KEY = 'loggedBlogAppUser'\n\nconst setUser = (user) => {\n  window.localStorage.setItem(\n    STORAGE_KEY, JSON.stringify(user)\n  )\n  token = user.token\n}\n\nconst getUser = () => {\n  const loggedUserJSON = window.localStorage.getItem(STORAGE_KEY)\n  if (loggedUserJSON) {\n    const user = JSON.parse(loggedUserJSON)\n    token = user.token\n    return user\n  }\n\n  return null\n}\n\nconst clearUser = () => {\n  localStorage.clear()\n  token = null\n}\n\nconst getToken = () => token\n\nexport default {\n  setUser, getUser, clearUser, getToken\n}"]},"metadata":{},"sourceType":"module"}